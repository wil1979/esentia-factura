<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>ðŸ‘¥ Clientes - Esentia</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: system-ui, sans-serif;
  background: #f5f7fa;
  padding: 16px;
}
h2 { text-align:center; color:#6c4ba3; }
table {
  width:100%;
  border-collapse:collapse;
  background:#fff;
}
th, td {
  padding:10px;
  border-bottom:1px solid #eee;
  font-size:0.9rem;
}
th {
  background:#6c4ba3;
  color:#fff;
}
tr:nth-child(even){background:#faf7ff;}
</style>
</head>

<body>

<h2>ðŸ‘¥ Clientes</h2>

<table>
<thead>
<tr>
  <th>Nombre</th>
  <th>CÃ©dula</th>
  <th>TelÃ©fono</th>
  <th>Compras</th>
</tr>
</thead>
<tbody id="tabla"></tbody>
</table>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDuMNZrLgxBs6CbuPp8j0iyynejt6WCpnQ",
  authDomain: "esentiacreditos-8345f.firebaseapp.com",
  projectId: "esentiacreditos-8345f",
  storageBucket: "esentiacreditos-8345f.firebasestorage.app",
  messagingSenderId: "888658236080",
  appId: "1:888658236080:web:506e5e2085b5a452dba175"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const tbody = document.getElementById("tabla");

async function cargar() {
  const snap = await getDocs(collection(db, "clientes"));

  tbody.innerHTML = "";

  snap.forEach(d => {
    const c = d.data();
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${c.nombre || 'â€”'}</td>
      <td>${c.cedula || 'â€”'}</td>
      <td>${c.telefono || 'â€”'}</td>
      <td>${(c.compras || []).length}</td>
    `;

    tbody.appendChild(tr);
  });
}

cargar();
</script>

</body>
</html>