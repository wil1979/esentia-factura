<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>TEST CLIENTES</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h2>ğŸ“‹ Clientes (test directo)</h2>
<div id="estado">Conectandoâ€¦</div>
<ul id="lista"></ul>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDuMNZrLgxBs6CbuPp8j0iyynejt6WCpnQ",
  authDomain: "esentiacreditos-8345f.firebaseapp.com",
  projectId: "esentiacreditos-8345f",
  storageBucket: "esentiacreditos-8345f.firebasestorage.app",
  messagingSenderId: "888658236080",
  appId: "1:888658236080:web:506e5e2085b5a452dba175"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const estado = document.getElementById("estado");
const lista = document.getElementById("lista");

async function test() {
  try {
    const snap = await getDocs(collection(db, "clientes"));
    estado.textContent = `Clientes encontrados: ${snap.size}`;

    snap.forEach(d => {
      const li = document.createElement("li");
      li.textContent = JSON.stringify(d.data());
      lista.appendChild(li);
    });

    if (snap.size === 0) {
      estado.textContent += " (colecciÃ³n vacÃ­a)";
    }
  } catch (e) {
    estado.textContent = "âŒ ERROR al consultar Firestore";
  }
}

test();
</script>

</body>
</html>